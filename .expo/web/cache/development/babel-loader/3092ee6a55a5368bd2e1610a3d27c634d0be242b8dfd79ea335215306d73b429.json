{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Ansi = void 0;\nvar anser_1 = __importDefault(require(\"anser\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar COLORS = {\n  \"ansi-black\": \"rgb(27, 27, 27)\",\n  \"ansi-red\": \"rgb(187, 86, 83)\",\n  \"ansi-green\": \"rgb(144, 157, 98)\",\n  \"ansi-yellow\": \"rgb(234, 193, 121)\",\n  \"ansi-blue\": \"rgb(125, 169, 199)\",\n  \"ansi-magenta\": \"rgb(176, 101, 151)\",\n  \"ansi-cyan\": \"rgb(140, 220, 216)\",\n  \"ansi-bright-black\": \"rgb(98, 98, 98)\",\n  \"ansi-bright-red\": \"rgb(187, 86, 83)\",\n  \"ansi-bright-green\": \"rgb(144, 157, 98)\",\n  \"ansi-bright-yellow\": \"rgb(234, 193, 121)\",\n  \"ansi-bright-blue\": \"rgb(125, 169, 199)\",\n  \"ansi-bright-magenta\": \"rgb(176, 101, 151)\",\n  \"ansi-bright-cyan\": \"rgb(140, 220, 216)\",\n  \"ansi-bright-white\": \"rgb(247, 247, 247)\"\n};\nfunction Ansi(_ref) {\n  var text = _ref.text,\n    style = _ref.style;\n  var commonWhitespaceLength = Infinity;\n  var parsedLines = text.split(/\\n/).map(function (line) {\n    return anser_1.default.ansiToJson(line, {\n      json: true,\n      remove_empty: true,\n      use_classes: true\n    });\n  });\n  parsedLines.map(function (lines) {\n    var _a, _b, _c;\n    var match = lines[2] && ((_b = (_a = lines[2]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b.match(/^ +/));\n    var whitespaceLength = match && ((_c = match[0]) === null || _c === void 0 ? void 0 : _c.length) || 0;\n    if (whitespaceLength < commonWhitespaceLength) {\n      commonWhitespaceLength = whitespaceLength;\n    }\n  });\n  var getText = function getText(content, key) {\n    if (key === 1) {\n      return content.replace(/\\| $/, \" \");\n    } else if (key === 2 && commonWhitespaceLength < Infinity) {\n      return content.substr(commonWhitespaceLength);\n    } else {\n      return content;\n    }\n  };\n  return react_1.default.createElement(react_native_1.View, null, parsedLines.map(function (items, i) {\n    return react_1.default.createElement(react_native_1.View, {\n      style: styles.line,\n      key: i\n    }, items.map(function (bundle, key) {\n      var textStyle = bundle.fg && COLORS[bundle.fg] ? {\n        backgroundColor: bundle.bg && COLORS[bundle.bg],\n        color: bundle.fg && COLORS[bundle.fg]\n      } : {\n        backgroundColor: bundle.bg && COLORS[bundle.bg]\n      };\n      return react_1.default.createElement(react_native_1.Text, {\n        style: [style, textStyle],\n        key: key\n      }, getText(bundle.content, key));\n    }));\n  }));\n}\nexports.Ansi = Ansi;\nvar styles = react_native_1.StyleSheet.create({\n  line: {\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"names":["anser_1","__importDefault","require","react_1","react_native_1","COLORS","Ansi","_ref","text","style","commonWhitespaceLength","Infinity","parsedLines","split","map","line","default","ansiToJson","json","remove_empty","use_classes","lines","match","_b","_a","content","whitespaceLength","_c","length","getText","key","replace","substr","createElement","View","items","i","styles","bundle","textStyle","fg","backgroundColor","bg","color","Text","exports","StyleSheet","create","flexDirection"],"sources":["C:\\Users\\Bartek\\react_native_boi\\node_modules\\@expo\\metro-runtime\\src\\error-overlay\\UI\\AnsiHighlight.tsx"],"sourcesContent":["/**\n * Copyright (c) Evan Bacon.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport Anser from \"anser\";\nimport React from \"react\";\nimport { StyleProp, StyleSheet, Text, TextStyle, View } from \"react-native\";\n\n// Afterglow theme from https://iterm2colorschemes.com/\nconst COLORS: Record<string, string> = {\n  \"ansi-black\": \"rgb(27, 27, 27)\",\n  \"ansi-red\": \"rgb(187, 86, 83)\",\n  \"ansi-green\": \"rgb(144, 157, 98)\",\n  \"ansi-yellow\": \"rgb(234, 193, 121)\",\n  \"ansi-blue\": \"rgb(125, 169, 199)\",\n  \"ansi-magenta\": \"rgb(176, 101, 151)\",\n  \"ansi-cyan\": \"rgb(140, 220, 216)\",\n  // Instead of white, use the default color provided to the component\n  // 'ansi-white': 'rgb(216, 216, 216)',\n  \"ansi-bright-black\": \"rgb(98, 98, 98)\",\n  \"ansi-bright-red\": \"rgb(187, 86, 83)\",\n  \"ansi-bright-green\": \"rgb(144, 157, 98)\",\n  \"ansi-bright-yellow\": \"rgb(234, 193, 121)\",\n  \"ansi-bright-blue\": \"rgb(125, 169, 199)\",\n  \"ansi-bright-magenta\": \"rgb(176, 101, 151)\",\n  \"ansi-bright-cyan\": \"rgb(140, 220, 216)\",\n  \"ansi-bright-white\": \"rgb(247, 247, 247)\",\n};\n\nexport function Ansi({\n  text,\n  style,\n}: {\n  text: string;\n  style: StyleProp<TextStyle>;\n}) {\n  let commonWhitespaceLength = Infinity;\n  const parsedLines = text.split(/\\n/).map((line) =>\n    Anser.ansiToJson(line, {\n      json: true,\n      remove_empty: true,\n      use_classes: true,\n    })\n  );\n\n  parsedLines.map((lines) => {\n    // The third item on each line includes the whitespace of the source code.\n    // We are looking for the least amount of common whitespace to trim all lines.\n    // Example: Array [\" \", \" 96 |\", \"     text\", ...]\n    const match = lines[2] && lines[2]?.content?.match(/^ +/);\n    const whitespaceLength = (match && match[0]?.length) || 0;\n    if (whitespaceLength < commonWhitespaceLength) {\n      commonWhitespaceLength = whitespaceLength;\n    }\n  });\n\n  const getText = (content: string, key: number) => {\n    if (key === 1) {\n      // Remove the vertical bar after line numbers\n      return content.replace(/\\| $/, \" \");\n    } else if (key === 2 && commonWhitespaceLength < Infinity) {\n      // Remove common whitespace at the beginning of the line\n      return content.substr(commonWhitespaceLength);\n    } else {\n      return content;\n    }\n  };\n\n  return (\n    <View>\n      {parsedLines.map((items, i) => (\n        <View style={styles.line} key={i}>\n          {items.map((bundle, key) => {\n            const textStyle =\n              bundle.fg && COLORS[bundle.fg]\n                ? {\n                    backgroundColor: bundle.bg && COLORS[bundle.bg],\n                    color: bundle.fg && COLORS[bundle.fg],\n                  }\n                : {\n                    backgroundColor: bundle.bg && COLORS[bundle.bg],\n                  };\n            return (\n              <Text style={[style, textStyle]} key={key}>\n                {getText(bundle.content, key)}\n              </Text>\n            );\n          })}\n        </View>\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  line: {\n    flexDirection: \"row\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}